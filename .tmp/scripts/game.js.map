{"version":3,"sources":["../../app/scripts/game.js"],"names":[],"mappings":"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","file":"game.js","sourcesContent":["var game = new Phaser.Game(800, 600, Phaser.AUTO, '');\n\ngame.state.add('play', {\n    preload: function() {\n        this.game.load.image('forest-back', 'assets/parallax_forest_pack/layers/parallax-forest-back-trees.png');\n        this.game.load.image('forest-lights', 'assets/parallax_forest_pack/layers/parallax-forest-lights.png');\n        this.game.load.image('forest-middle', 'assets/parallax_forest_pack/layers/parallax-forest-middle-trees.png');\n        this.game.load.image('forest-front', 'assets/parallax_forest_pack/layers/parallax-forest-front-trees.png');\n\n        this.game.load.image('aerocephal', 'assets/allacrost_enemy_sprites/aerocephal.png');\n        this.game.load.image('arcana_drake', 'assets/allacrost_enemy_sprites/arcana_drake.png');\n        this.game.load.image('aurum-drakueli', 'assets/allacrost_enemy_sprites/aurum-drakueli.png');\n        this.game.load.image('bat', 'assets/allacrost_enemy_sprites/bat.png');\n        this.game.load.image('daemarbora', 'assets/allacrost_enemy_sprites/daemarbora.png');\n        this.game.load.image('deceleon', 'assets/allacrost_enemy_sprites/deceleon.png');\n        this.game.load.image('demonic_essence', 'assets/allacrost_enemy_sprites/demonic_essence.png');\n        this.game.load.image('dune_crawler', 'assets/allacrost_enemy_sprites/dune_crawler.png');\n        this.game.load.image('green_slime', 'assets/allacrost_enemy_sprites/green_slime.png');\n        this.game.load.image('nagaruda', 'assets/allacrost_enemy_sprites/nagaruda.png');\n        this.game.load.image('rat', 'assets/allacrost_enemy_sprites/rat.png');\n        this.game.load.image('scorpion', 'assets/allacrost_enemy_sprites/scorpion.png');\n        this.game.load.image('skeleton', 'assets/allacrost_enemy_sprites/skeleton.png');\n        this.game.load.image('snake', 'assets/allacrost_enemy_sprites/snake.png');\n        this.game.load.image('spider', 'assets/allacrost_enemy_sprites/spider.png');\n        this.game.load.image('stygian_lizard', 'assets/allacrost_enemy_sprites/stygian_lizard.png');\n\n        this.game.load.image('gold_coin', 'assets/rpg_icons/I_GoldCoin.png');\n\n        this.game.load.image('dagger', 'assets/rpg_icons/W_Dagger002.png');\n        this.game.load.image('swordIcon1', 'assets/rpg_icons/S_Sword15.png');\n\n        // build panel for upgrades\n        var bmd = this.game.add.bitmapData(250, 500);\n        bmd.ctx.fillStyle = '#9a783d';\n        bmd.ctx.strokeStyle = '#35371c';\n        bmd.ctx.lineWidth = 12;\n        bmd.ctx.fillRect(0, 0, 250, 500);\n        bmd.ctx.strokeRect(0, 0, 250, 500);\n        this.game.cache.addBitmapData('upgradePanel', bmd);\n\n        var buttonImage = this.game.add.bitmapData(476, 48);\n        buttonImage.ctx.fillStyle = '#e6dec7';\n        buttonImage.ctx.strokeStyle = '#35371c';\n        buttonImage.ctx.lineWidth = 4;\n        buttonImage.ctx.fillRect(0, 0, 225, 48);\n        buttonImage.ctx.strokeRect(0, 0, 225, 48);\n        this.game.cache.addBitmapData('button', buttonImage);\n\n        // the main player\n        this.player = {\n            clickDmg: 1,\n            gold: 50,\n            dps: 0\n        };\n\n        // world progression\n        this.level = 1;\n        // how many monsters have we killed during this level\n        this.levelKills = 0;\n        // how many monsters are required to advance a level\n        this.levelKillsRequired = 10;\n    },\n    create: function() {\n        var state = this;\n\n        this.background = this.game.add.group();\n        // setup each of our background layers to take the full screen\n        ['forest-back', 'forest-lights', 'forest-middle', 'forest-front']\n            .forEach(function(image) {\n                var bg = state.game.add.tileSprite(0, 0, state.game.world.width,\n                    state.game.world.height, image, '', state.background);\n                bg.tileScale.setTo(4,4);\n            });\n\n        this.upgradePanel = this.game.add.image(10, 70, this.game.cache.getBitmapData('upgradePanel'));\n        var upgradeButtons = this.upgradePanel.addChild(this.game.add.group());\n        upgradeButtons.position.setTo(8, 8);\n\n        var upgradeButtonsData = [\n            {icon: 'dagger', name: 'Attack', level: 0, cost: 5, purchaseHandler: function(button, player) {\n                player.clickDmg += 1;\n            }},\n            {icon: 'swordIcon1', name: 'Auto-Attack', level: 0, cost: 25, purchaseHandler: function(button, player) {\n                player.dps += 5;\n            }}\n        ];\n\n        var button;\n        upgradeButtonsData.forEach(function(buttonData, index) {\n            button = state.game.add.button(0, (50 * index), state.game.cache.getBitmapData('button'));\n            button.icon = button.addChild(state.game.add.image(6, 6, buttonData.icon));\n            button.text = button.addChild(state.game.add.text(42, 6, buttonData.name + ': ' + buttonData.level, {font: '16px Arial Black'}));\n            button.details = buttonData;\n            button.costText = button.addChild(state.game.add.text(42, 24, 'Cost: ' + buttonData.cost, {font: '16px Arial Black'}));\n            button.events.onInputDown.add(state.onUpgradeButtonClick, state);\n\n            upgradeButtons.addChild(button);\n        });\n\n        var monsterData = [\n            {name: 'Aerocephal',        image: 'aerocephal',        maxHealth: 10},\n            {name: 'Arcana Drake',      image: 'arcana_drake',      maxHealth: 20},\n            {name: 'Aurum Drakueli',    image: 'aurum-drakueli',    maxHealth: 30},\n            {name: 'Bat',               image: 'bat',               maxHealth: 5},\n            {name: 'Daemarbora',        image: 'daemarbora',        maxHealth: 10},\n            {name: 'Deceleon',          image: 'deceleon',          maxHealth: 10},\n            {name: 'Demonic Essence',   image: 'demonic_essence',   maxHealth: 15},\n            {name: 'Dune Crawler',      image: 'dune_crawler',      maxHealth: 8},\n            {name: 'Green Slime',       image: 'green_slime',       maxHealth: 3},\n            {name: 'Nagaruda',          image: 'nagaruda',          maxHealth: 13},\n            {name: 'Rat',               image: 'rat',               maxHealth: 2},\n            {name: 'Scorpion',          image: 'scorpion',          maxHealth: 2},\n            {name: 'Skeleton',          image: 'skeleton',          maxHealth: 6},\n            {name: 'Snake',             image: 'snake',             maxHealth: 4},\n            {name: 'Spider',            image: 'spider',            maxHealth: 4},\n            {name: 'Stygian Lizard',    image: 'stygian_lizard',    maxHealth: 20}\n        ];\n        this.monsters = this.game.add.group();\n\n        var monster;\n        monsterData.forEach(function(data) {\n            // create a sprite for them off screen\n            monster = state.monsters.create(2000, state.game.world.centerY, data.image);\n            // use the built in health component\n            monster.health = monster.maxHealth = data.maxHealth;\n            // center anchor\n            monster.anchor.setTo(0.5, 1);\n            // reference to the database\n            monster.details = data;\n\n            //enable input so we can click it!\n            monster.inputEnabled = true;\n            monster.events.onInputDown.add(state.onClickMonster, state);\n\n            // hook into health and lifecycle events\n            monster.events.onKilled.add(state.onKilledMonster, state);\n            monster.events.onRevived.add(state.onRevivedMonster, state);\n        });\n\n        // display the monster front and center\n        this.currentMonster = this.monsters.getRandom();\n        this.currentMonster.position.set(this.game.world.centerX + 100, this.game.world.centerY + 50);\n\n        this.monsterInfoUI = this.game.add.group();\n        this.monsterInfoUI.position.setTo(this.currentMonster.x - 220, this.currentMonster.y + 120);\n        this.monsterNameText = this.monsterInfoUI.addChild(this.game.add.text(0, 0, this.currentMonster.details.name, {\n            font: '48px Arial Black',\n            fill: '#fff',\n            strokeThickness: 4\n        }));\n        this.monsterHealthText = this.monsterInfoUI.addChild(this.game.add.text(0, 80, this.currentMonster.health + ' HP', {\n            font: '32px Arial Black',\n            fill: '#ff0000',\n            strokeThickness: 4\n        }));\n\n        this.dmgTextPool = this.add.group();\n        var dmgText;\n        for (var d=0; d<50; d++) {\n            dmgText = this.add.text(0, 0, '1', {\n                font: '64px Arial Black',\n                fill: '#fff',\n                strokeThickness: 4\n            });\n            // start out not existing, so we don't draw it yet\n            dmgText.exists = false;\n            dmgText.tween = game.add.tween(dmgText)\n                .to({\n                    alpha: 0,\n                    y: 100,\n                    x: this.game.rnd.integerInRange(100, 700)\n                }, 1000, Phaser.Easing.Cubic.Out);\n\n            dmgText.tween.onComplete.add(function(text, tween) {\n                text.kill();\n            });\n            this.dmgTextPool.add(dmgText);\n        }\n\n        // create a pool of gold coins\n        this.coins = this.add.group();\n        this.coins.createMultiple(50, 'gold_coin', '', false);\n        this.coins.setAll('inputEnabled', true);\n        this.coins.setAll('goldValue', 1);\n        this.coins.callAll('events.onInputDown.add', 'events.onInputDown', this.onClickCoin, this);\n\n        this.playerGoldText = this.add.text(30, 30, 'Gold: ' + this.player.gold, {\n            font: '24px Arial Black',\n            fill: '#fff',\n            strokeThickness: 4\n        });\n\n        // 100ms 10x a second\n        this.dpsTimer = this.game.time.events.loop(100, this.onDPS, this);\n\n        // setup the world progression display\n        this.levelUI = this.game.add.group();\n        this.levelUI.position.setTo(this.game.world.centerX, 30);\n        this.levelText = this.levelUI.addChild(this.game.add.text(0, 0, 'Level: ' + this.level, {\n            font: '24px Arial Black',\n            fill: '#fff',\n            strokeThickness: 4\n        }));\n        this.levelKillsText = this.levelUI.addChild(this.game.add.text(0, 30, 'Kills: ' + this.levelKills + '/' + this.levelKillsRequired, {\n            font: '24px Arial Black',\n            fill: '#fff',\n            strokeThickness: 4\n        }));\n    },\n    onDPS: function() {\n        if (this.player.dps > 0) {\n            if (this.currentMonster && this.currentMonster.alive) {\n                var dmg = this.player.dps / 10;\n                this.currentMonster.damage(dmg);\n                // update the health text\n                this.monsterHealthText.text = this.currentMonster.alive ? Math.round(this.currentMonster.health) + ' HP' : 'DEAD';\n            }\n        }\n    },\n    onUpgradeButtonClick: function(button, pointer) {\n        // make this a function so that it updates after we buy\n        function getAdjustedCost() {\n            return Math.ceil(button.details.cost + (button.details.level * 1.46));\n        }\n\n        if (this.player.gold - getAdjustedCost() >= 0) {\n            this.player.gold -= getAdjustedCost();\n            this.playerGoldText.text = 'Gold: ' + this.player.gold;\n            button.details.level++;\n            button.text.text = button.details.name + ': ' + button.details.level;\n            button.costText.text = 'Cost: ' + getAdjustedCost();\n            button.details.purchaseHandler.call(this, button, this.player);\n        }\n    },\n    onClickCoin: function(coin) {\n        if (!coin.alive) {\n            return;\n        }\n        // give the player gold\n        this.player.gold += coin.goldValue;\n        // update UI\n        this.playerGoldText.text = 'Gold: ' + this.player.gold;\n        // remove the coin\n        coin.kill();\n    },\n    onKilledMonster: function(monster) {\n        // move the monster off screen again\n        monster.position.set(2000, this.game.world.centerY);\n\n        var coin;\n        // spawn a coin on the ground\n        coin = this.coins.getFirstExists(false);\n        coin.reset(this.game.world.centerX + this.game.rnd.integerInRange(-100, 100), this.game.world.centerY);\n        coin.goldValue = Math.round(this.level * 1.33);\n        this.game.time.events.add(Phaser.Timer.SECOND * 3, this.onClickCoin, this, coin);\n\n        this.levelKills++;\n\n        if (this.levelKills >= this.levelKillsRequired) {\n            this.level++;\n            this.levelKills = 0;\n        }\n\n        this.levelText.text = 'Level: ' + this.level;\n        this.levelKillsText.text = 'Kills: ' + this.levelKills + '/' + this.levelKillsRequired;\n\n        // pick a new monster\n        this.currentMonster = this.monsters.getRandom();\n        // upgrade the monster based on level\n        this.currentMonster.maxHealth = Math.ceil(this.currentMonster.details.maxHealth + ((this.level - 1) * 10.6));\n        // make sure they are fully healed\n        this.currentMonster.revive(this.currentMonster.maxHealth);\n    },\n    onRevivedMonster: function(monster) {\n        monster.position.set(this.game.world.centerX + 100, this.game.world.centerY + 50);\n        // update the text display\n        this.monsterNameText.text = monster.details.name;\n        this.monsterHealthText.text = monster.health + 'HP';\n    },\n    onClickMonster: function(monster, pointer) {\n        // apply click damage to monster\n        this.currentMonster.damage(this.player.clickDmg);\n\n        // grab a damage text from the pool to display what happened\n        var dmgText = this.dmgTextPool.getFirstExists(false);\n        if (dmgText) {\n            dmgText.text = this.player.clickDmg;\n            dmgText.reset(pointer.positionDown.x, pointer.positionDown.y);\n            dmgText.alpha = 1;\n            dmgText.tween.start();\n        }\n\n        // update the health text\n        this.monsterHealthText.text = this.currentMonster.alive ? this.currentMonster.health + ' HP' : 'DEAD';\n    }\n});\n\ngame.state.start('play');\n"]}